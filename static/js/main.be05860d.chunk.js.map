{"version":3,"sources":["Components/ContactList/ContactList.module.css","Components/FIlter/Filter.module.css","App.module.css","Components/api/api.js","Components/Form/Form.js","Components/ContactList/ContactsList.js","Components/FIlter/Filter.js","App.js","redux/store.js","reportWebVitals.js","index.js","Components/Form/Form.module.css"],"names":["module","exports","phonebookApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getContacts","query","providesTags","addContact","mutation","newContact","url","method","body","name","phone","invalidatesTags","deleteContact","contactId","getFilteredContacts","useGetContactsQuery","useGetFilteredContactsQuery","useDeleteContactMutation","useAddContactMutation","Form","useState","setName","setPhone","isLoading","handleInput","e","target","value","reset","className","s","form","onSubmit","preventDefault","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","label","type","pattern","title","onChange","required","placeholder","input","disabled","button","ContactsList","contacts","onDelete","list","map","contact","list_item","number","id","onClick","Filter","wrapper","App","contactName","setContactName","data","error","isFetching","filteredData","skip","app","currentTarget","store","configureStore","reducer","middleware","getDefaultMiddleware","setupListeners","dispatch","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be05860d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactList_list__1VPOw\",\"list_item\":\"ContactList_list_item__3BG0n\",\"button\":\"ContactList_button__33TGt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Filter_wrapper__d57dz\",\"label\":\"Filter_label__3NgUr\",\"input\":\"Filter_input__24AmD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1xZfO\",\"title\":\"App_title__QkWbA\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nexport const phonebookApi = createApi({\r\n  reducerPath: 'phonebookApi',\r\n  baseQuery: fetchBaseQuery({ baseUrl: 'https://61969f03af46280017e7e1f0.mockapi.io' }),\r\n  tagTypes:['Contacts-list'],\r\n  endpoints: (builder) => ({\r\n    getContacts: builder.query({\r\n      query: () => `/contacts-list`,\r\n      providesTags: ['Contacts-list'],\r\n    }),\r\n    addContact: builder.mutation({\r\n      query: (newContact) => ({\r\n        url: `/contacts-list`,\r\n        method: 'POST',\r\n        body: {\r\n          name: newContact.name,\r\n          phone: newContact.phone,\r\n        },\r\n      }),\r\n      invalidatesTags: ['Contacts-list'],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: (contactId) => ({\r\n        url: `/contacts-list/${contactId}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['Contacts-list'],\r\n    }),\r\n    getFilteredContacts: builder.query({\r\n      query: (name) => `/contacts-list?name=${name}`,\r\n      invalidatesTags: ['Contacts-list'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetContactsQuery,\r\n  useGetFilteredContactsQuery,\r\n  useDeleteContactMutation,\r\n  useAddContactMutation } = phonebookApi;","import React, { useState} from \"react\";\r\nimport { toast } from 'react-toastify';\r\n// import phonebookActions from \"../redux/actions\";\r\n// import { connect } from \"react-redux\";\r\nimport { useAddContactMutation } from '../api/api';\r\nimport s from './Form.module.css'\r\n\r\nexport default function Form() {\r\n  const [name, setName] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n\r\n  const [addContact, {isLoading}] = useAddContactMutation();\r\n  \r\n  const handleInput = e => {\r\n    const {name, value} = e.target;\r\n\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n      case 'number':\r\n        setPhone(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    addContact({ name, phone });\r\n    reset();\r\n    toast.success('Contact added!', {\r\n      position: \"top-center\",\r\n      autoClose: 2000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    }); \r\n  }\r\n\r\n  const reset = () => {\r\n    setName('');\r\n    setPhone('');\r\n    }\r\n\r\n  return (\r\n    <div className={s.form}>\r\n            <form onSubmit={handleSubmit}>\r\n              <label className={s.label}>Name\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n                  title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n                  onChange={handleInput}\r\n                  required\r\n                  placeholder='add name...'\r\n                  className={s.input}\r\n              />\r\n              </label>\r\n            <label className={s.label}>Phone number\r\n              <input\r\n                type=\"tel\"\r\n                name=\"number\"\r\n                value={phone}\r\n                pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n                title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n                onChange={handleInput}\r\n                required\r\n                placeholder='add number...'\r\n                className={s.input}\r\n              />\r\n            </label>\r\n              <button type=\"submit\" disabled={isLoading} className={s.button} title='Добавить новый контакт'>Add contact</button>\r\n      </form>\r\n      \r\n    </div>\r\n    \r\n  )\r\n};\r\n\r\n// const mapDispatchToProps = (dispatch) => ({\r\n//   onSubmit: (value) => dispatch(phonebookActions.addContact(value)),\r\n// });\r\n\r\n// export default connect(null, mapDispatchToProps)(Form);","import React from \"react\";\r\n// import { connect } from \"react-redux\";\r\n// import phonebookActions from '../redux/actions';\r\nimport s from './ContactList.module.css';\r\n\r\nexport default function ContactsList({contacts, onDelete}) {\r\n  return (\r\n    <div>\r\n      <ul className={s.list}>\r\n                {contacts.map((contact) => (\r\n                  <li key={contact.id} className={s.list_item}>\r\n                    <span className={s.name}>{contact.name}</span>\r\n                    <span className={s.number}>{contact.phone}</span>\r\n                    <button type=\"button\" id={contact.id} onClick={() => onDelete(contact.id)} className={s.button}>Delete</button>\r\n                  </li>\r\n                  \r\n                )\r\n                )}\r\n      </ul>\r\n    </div>)\r\n}\r\n\r\n// const mapStateToProps = state => {\r\n//   const { items, filter } = state.phonebook;\r\n//   const avaliableContacts = getAvaliableContacts(items, filter);\r\n//   return {\r\n//     contacts: avaliableContacts,\r\n//   };\r\n// };\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//   onDelete: (value) => dispatch(phonebookActions.deleteContact(value)),\r\n// });\r\n\r\n// const getAvaliableContacts = (items, filter) => {\r\n//   const normalizedFilter = filter.toLowerCase();\r\n//   return items.filter(contact =>\r\n//     contact.name.toLowerCase().includes(normalizedFilter)\r\n//   );\r\n// };\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(ContactsList);","import React from 'react';\r\n// import { connect } from \"react-redux\";\r\n// import phonebookActions from \"../redux/actions\";\r\nimport s from './Filter.module.css';\r\n\r\nexport default function Filter({ onChange, value }) {\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <label className={s.label}>Find contact\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={value}\r\n          onChange={onChange}\r\n          className={s.input}\r\n          placeholder='find name...'\r\n        />\r\n      </label>\r\n    </div>\r\n      )    \r\n};\r\n  \r\n// const mapStateToProps = (state) => ({\r\n//   value: state.phonebook.filter,\r\n// });\r\n\r\n// const mapDispatchToProps = (dispatch) => ({\r\n//   onChange: (event) =>\r\n//     dispatch(phonebookActions.filterContacts(event.target.value)),\r\n// });\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n","import React, { useState} from 'react';\nimport Form from './Components/Form/Form';\nimport ContactsList from './Components/ContactList/ContactsList';\nimport Filter from './Components/FIlter/Filter';\nimport { useGetContactsQuery, useGetFilteredContactsQuery, useDeleteContactMutation} from './Components/api/api';\nimport s from './App.module.css';\n\nexport default function App() {\n  const [contactName, setContactName] = useState('');\n  const { data, error, isFetching } = useGetContactsQuery();\n  const [deleteContact] = useDeleteContactMutation();\n  const { data: filteredData } = useGetFilteredContactsQuery(contactName, {\n    skip: contactName === '',\n  });\n\n  const onFilterChange = (e) => {\n    setContactName(e.currentTarget.value);\n  };\n\n  return (\n    <div className={s.app}>\n      <h1 className={s.title}>Phonebook</h1>\n      <Form />\n      <h2 className={s.title}>Contacts</h2>\n      <Filter onChange={onFilterChange} value={contactName} />\n      {error ? (\n        <>Oh no, there was an error</>\n      ) : isFetching ? (\n        <>Loading...</>\n      ) : data && (contactName === '')? (\n          <ContactsList contacts={data} onDelete={deleteContact}/>\n      ) : filteredData && (contactName !== '')? (\n          <ContactsList contacts={filteredData} onDelete={deleteContact}/> \n      ) : null}\n    </div>);\n};\n   ","import { configureStore } from '@reduxjs/toolkit';\r\nimport { setupListeners } from '@reduxjs/toolkit/query';\r\nimport { phonebookApi } from '../Components/api/api';\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    [phonebookApi.reducerPath]: phonebookApi.reducer,\r\n  },\r\n  middleware: getDefaultMiddleware => [\r\n    ...getDefaultMiddleware(),\r\n    phonebookApi.middleware,\r\n  ]\r\n});\r\n\r\nsetupListeners(store.dispatch);\r\n\r\nexport default store;\r\n\r\n\r\n\r\n\r\n\r\n// import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\n// import logger from \"redux-logger\";\r\n// import {\r\n//   persistStore,\r\n//   persistReducer,\r\n//   FLUSH,\r\n//   REHYDRATE,\r\n//   PAUSE,\r\n//   PERSIST,\r\n//   PURGE,\r\n//   REGISTER,\r\n// } from \"redux-persist\";\r\n// import storage from \"redux-persist/lib/storage\";\r\n// import phonebookReducer from '../redux/reducers';\r\n\r\n// const middleware = [\r\n//   ...getDefaultMiddleware({\r\n//     serializableCheck: {\r\n//       ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n//     },\r\n//   }),\r\n//   logger,\r\n// ];\r\n\r\n// const phonebookPersistConfig = {\r\n//   key: \"phonebook\",\r\n//   storage,\r\n//   blacklist: ['filter'],\r\n// };\r\n\r\n// const store = configureStore({\r\n//     reducer: {phonebook: persistReducer(phonebookPersistConfig, phonebookReducer),},\r\n//     middleware,\r\n//     devTools: process.env.NODE_ENV === 'developement',\r\n// });\r\n\r\n// const persistor = persistStore(store);\r\n\r\n// const persistedStore = { store, persistor };\r\n\r\n// export default persistedStore;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport store from './redux/store';\n\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n        <App />\n    </Provider>    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__2MILA\",\"label\":\"Form_label__aVv-Y\",\"input\":\"Form_input__3Jan5\",\"button\":\"Form_button__3hYul\"};"],"sourceRoot":""}